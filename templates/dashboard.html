<!DOCTYPE html>
<html>
<head>

	<title>LoRa geolocation dashboard</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="shortcut icon" type="image/x-icon" href="static/images/favicon.ico" />


    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
    <!--<link rel="stylesheet" type="text/css" href="static/style/style.css">-->
    <!--<link rel="stylesheet" type="text/css" media='screen and (min-width: 200px) and (max-width: 1200px)' href="static/style/css_mobile.css"/> -->
    <link href="https://fonts.googleapis.com/css?family=Raleway:200" rel="stylesheet">
    
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js" integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og==" crossorigin=""></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

    <!--leaflet plugins-->
    <script src="static/scripts/leaflet-heat.js"></script>

    <script>
        less = {
          env: "development",
          async: false,
          fileAsync: false,
          poll: 1000
        };
      </script>
    <!--
    <link rel="stylesheet/less" type="text/css" href="static/style/style_l.less" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/3.9.0/less.min.js" ></script>
    -->

    {% assets "scss_all" %}
    <link rel=stylesheet type=text/css href="{{ ASSET_URL }}">
    {% endassets %}

</head>
<body>


<h1> LoRa geolocation map </h1>
<div id="mapid"></div>
{% assets "js_map" %}
<script src="{{ ASSET_URL }}"></script>
{% endassets %}
<div id ="info"></div>
<div id="controls">
    <a class="button" id="MB" onclick="darkMode()" href="javascript:void(0)"> Light mode </a> <br/>
    <a class="button" id="MB" onclick="showMB()" href="javascript:void(0)"> Normal mode </a> <br/>
    <a class="button" id="OSM" onclick="showOSM()" href="javascript:void(0)"> OSM </a>
    <a class="button" id="updateLocation" onclick="updateGatewayLocations()" href="javascript:void(0)"> update GW locations </a>
    <!--<a class="button test" onclick="displayInfo()" href="javascript:void(0)"> test success </a>
    <a class="button test" onclick="displayError()" href="javascript:void(0)"> test error </a>-->
    <a class="button test" onclick="displayError('not yet implemented')" href="javascript:void(0)"> ➕ </a> 
    <a class="button test" onclick="displaySettings()" href="javascript:void(0)"> ⚙️ </a>
</div>

<div id="container"></div>
<div id="calibrationControls">
  <h3>Calibration mode</h3>

		<label class="description" for="element_1">Campaign ID </label>
		<input id="campaign_id" name="element_1" class="element text small" type="number" maxlength="255" value="1"/> <br/>
		<label class="description" for="element_2">Number of samples </label>
    <input id="nbSamples" name="element_2" class="element text small" type="number" maxlength="255" value="5"/> 


  <div id="calibration_buttons">
    <a class="button"  onclick="beginCalibration()" href="javascript:void(0)"> Begin Calibration </a>
    <a class="button"  onclick="hideCalibration()" href="javascript:void(0)"> Stop </a>
  </div>
</div>

<div id="attr"></div>

</body>

<script src="static/scripts/progressbar.js"></script>
<script src="static/scripts/progressbar_samples.js"></script>
</html>
